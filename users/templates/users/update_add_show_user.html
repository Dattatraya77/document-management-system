{% extends "layout1.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% block content %}

<style>
    .container-fluid {
        padding-right: 15px !important;
        padding-left: 0px !important;
    }
    .select2-container .select2-selection--multiple {
        width : 310px;
        border-color: #007bff;
        min-height : 37px;
    }
    .select.form-control[multiple], select.form-control[size] {
        height : auto !important;
    }
</style>

<body class="" style="background-color: #fafafa;">
    <div class="container">
        <div class="row">
            <div class="col-4">
                <div class="mt-4">
                    <div class="card" style="width: 25rem;">
                        <div class="card-header bg-light text-dark font-weight-bold">
                            <i class="fas fa-key pr-2"></i> Update User Information
                        </div>
                        {% if user_form.errors %}
                            {% for field in user_form %}
                                {% for error in field.errors %}
                                    <div class="alert alert-danger alert-dismissible" role="alert">
                                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                                        <strong>{{ error|escape }}</strong>
                                    </div>
                                {% endfor %}
                            {% endfor %}
                            {% for error in user_form.non_field_errors %}
                                <div class="alert alert-danger alert-dismissible" role="alert">
                                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                                    <strong>{{ error|escape }}</strong>
                                </div>
                            {% endfor %}
                        {% endif %}

                        <div class="card-body">
                            <form method="POST" enctype="multipart/form-data" class="mt-3">
                            {% csrf_token %}
                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <span class="fa fa-user"></span>
                                        </span>
                                    </div>
                                    {{ user_form.username }}
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <span class="fa fa-envelope">
                                            </span>
                                        </span>
                                    </div>
                                    {{ user_form.email }}
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <span class="fas fa-layer-group">
                                            </span>
                                        </span>
                                    </div>
                                    {{ user_form.groups }}
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="row">
                                    <div class="col">
                                        <button title="Click here to add save changes" class="btn btn-primary" type="submit">Save Changes</button>
                                    </div>
                                    <div class="col d-flex justify-content-end">
                                        <a title="Back to user information page" href="{% url 'add-show-user' %}" class="btn btn-secondary">Back</a>
                                    </div>
                                </div>
                            </div>

                        </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
<script>


    //Query All input fields
    var form_fields = document.getElementsByTagName('input')
    form_fields[4].placeholder='Enter Username';
    form_fields[5].placeholder='Enter Email';
<!--    form_fields[5].placeholder='Enter Password';-->
<!--    form_fields[6].placeholder='Confirm Password';-->


    for (var field in form_fields){
        form_fields[field].className += ' form-control border-primary'
    }
    $(document).ready(function() {
        $(".multiple-select").select2({
            placeholder: "Click here to select groups.",
            closeOnSelect: true,
            tags: true,
            allowClear: true,
            multiple: true,
            tokenSeparators: ['/',',',';'," "],
        });
    });
</script>
{% endblock content %}
