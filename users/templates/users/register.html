{% extends "users/user_layout.html" %}
{% load crispy_forms_tags %}
{% block content %}
<style>
    .container-fluid {
        padding-right: 15px !important;
        padding-left: 15px !important;
    }

    .separator {
        display: flex;
        align-items: center;
        text-align: center;
    }

    .separator::before,
    .separator::after {
        content: '';
        flex: 1;
        border-bottom: 1px solid rgb(128, 128, 128);
    }

    .separator::before {
        margin-right: .25em;
    }

    .separator::after {
        margin-left: .25em;
    }

</style>

<body class="" style="background-color: #fafafa;">

    <div class="container-fluid p-0">

        <div class="row justify-content-center pt-4">

            <div class="col-lg-4 justify-content-center text-center">
                {% if messages %}
                    {% for message in messages %}
                    <div class="container-fluid p-0">
                      <div class="alert {{ message.tags }} alert-dismissible" role="alert" >
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                        {{ message }}
                      </div>
                    </div>
                    {% endfor %}
                {% endif %}

                {% if form.errors %}
                    {% for field in form %}
                        {% for error in field.errors %}
                            <div class="alert alert-danger alert-dismissible" role="alert">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                <strong>{{ error|escape }}</strong>
                            </div>
                        {% endfor %}
                    {% endfor %}
                    {% for error in form.non_field_errors %}
                        <div class="alert alert-danger alert-dismissible" role="alert">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <strong>{{ error|escape }}</strong>
                        </div>
                    {% endfor %}
                {% endif %}

                <h3 class="mb-4 mt-5">Create your DMS account</h3>

                <form method="POST" action="">
                    {% csrf_token %}

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <span class="fa fa-user"></span>
                                    </span>
                                </div>
                                {{ form.first_name }}
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <span class="fa fa-user"></span>
                                    </span>
                                </div>
                                {{ form.last_name }}
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <span class="fa fa-user"></span>
                                </span>
                            </div>
                            {{ form.username }}
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <span class="fa fa-envelope">
                                    </span>
                                </span>
                            </div>
                            {{ form.email }}
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <span class="fa fa-lock">
                                    </span>
                                </span>
                            </div>
                            {{ form.password1 }}
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <span class="fa fa-lock">
                                    </span>
                                </span>
                            </div>
                            {{ form.password2 }}
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div class="row" style="width:100%;display:flex;justify-content:space-between;">
                                        <div class="col">
                                            <div class="row">
                                                <p style="padding:0px;margin:0px;margin-left:20px;" id="show_hide_text_at_register_page">Show password</p>
                                                <input   style="padding:0px;margin:0px;width:13px;height:13px;margin-left:10px;margin-top:7px;" type="checkbox" onclick="show_hide_passowrd_in_register_page(this)">
                                            </div>
                                        </div>
                                        <div class="col">

                                        </div>
                                    </div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">Register</button>
                </form>

            <div class=" ">
                <h6 class="separator text-muted text-sm my-3">OR</h6>
                <a href="{% url 'login' %}" class="text-bold">Already a member? Login here</a>
            </div>

        </div>
    </div>
</div>

<script>
    //Query All input fields
    var form_fields = document.getElementsByTagName('input')
    form_fields[1].placeholder='Enter First Name';
    form_fields[2].placeholder='Enter Last Name';
    form_fields[3].placeholder='Enter Username';
    form_fields[4].placeholder='Enter Email';
    form_fields[5].placeholder='Enter Password';
    form_fields[6].placeholder='Confirm Password';


    for (var field in form_fields){
        form_fields[field].className += ' form-control'
    }
</script>
<script>
        function show_hide_passowrd_in_register_page(cb){
        if(cb.checked){
            document.getElementById("show_hide_text_at_register_page").innerText="Hide password";
            document.getElementById("id_password1").type="text";
            document.getElementById("id_password2").type="text";
        }
        else{
            document.getElementById("show_hide_text_at_register_page").innerText="Show password";
            document.getElementById("id_password1").type="password";
            document.getElementById("id_password2").type="password";
        }
        }

    </script>
</body>
{% endblock content %}


