{% extends 'layout1.html' %}
{% load static %}
{% block content %}
<style>
    .toolbar{
        display: inline;
    }

    .btn-sm{
        padding:0.25rem -0.5rem;
        line-height:1.5;
        border-radius:1.2rem;
        font-size: 13px;

    }
    .btn-custom{
        background-color : white !important;
        border: none !important;
    }
    .dropzone {
        min-height: 250px;
        background: white;
        padding: 25px 54px;
        border: 2px dashed #0087F7;
        border-radius: 5px;
    }

    .dragover {
        border-color: black;
        background-color: whitesmoke;
        box-shadow: inset 0px 0px 15px 0px #5252527d;

    }

    .buttons-html5 {
        padding:1px 6px !important;
    }
    div.scroll {
        margin:4px, 4px;
        padding:4px;
        background-color: steel;
        width: 400px;
        max-height: 125px;
        overflow-x: hidden;
        overflow-y: auto;
        text-align:justify;

    }

    .selected-file-chip{
       font-size: 15px;
        background: #cffffd;
        padding: 5px 15px;
        border-radius: 15px;
        font-weight: bold;
        max-height: 100px;
    }

    input[type="checkbox"]:before {
        display: inline-block;
        font: normal normal normal 14px/1 FontAwesome;
        font-size: inherit;
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        content: "\f096";
        opacity: 1 !important;
        appearance: none;
        color: #007bff;
    }

    input[type="checkbox"]:checked:before {
        content: "\f046";
    }

    input[type="checkbox"] {
        font-size: 22px;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
    }


</style>

<body>
	<div class="container">
		<div class="d-flex justify-content-center">
			<div class="user_card" style="width:70vw;">
				<div class="d-flex justify-content mt-5">
					<h5>All Users Details ({{ total_users }})</h5>
				</div><br>
				<div class="d-flex justify-content-center form_container">
                    <div class="table-responsive">
                        <table id="example" class="table table-bordered table-striped" data-order='[[ 0, "desc" ]]'>
                            <thead>
                                <tr align="center">
                                    <th>ID</th>
                                    <th>Role</th>
                                    <th>Photo</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Signature Status</th>
                                    <th>Action</th>

                                </tr>
                            </thead>
                            <tbody style="color: black">
                                {% for user in users %}

                                <tr align="center">
                                    <td>{{ user.id }}</td>
                                    {% if user.is_superuser == True %}
                                    <td>Admin</td>
                                    {% elif user.is_staff == True %}
                                    <td>Staff</td>
                                    {% else %}
                                    <td>User</td>
                                    {% endif %}
                                    <td>
                                        {% if user.profile.image %}
                                        <img class="rounded-circle article-img" src="{{ user.profile.image.url }}">
                                        {% endif %}
                                    </td>
                                    <td>{{ user.username }}</td>
                                    <td>{{ user.email }}</td>
                                    {% if user.profile.signature %}
                                        <td><p>Signed</p></td>
                                    {% else %}
                                        <td><p>Not Signed</p></td>
                                    {% endif %}
                                    <td align="center">
                                        <button class="btn btn-danger btn-sm" data-toggle="modal" data-target="#{{ user.id }}"><i class="fa fa-trash pr-2"></i>Delete</button>
                                    </td>
                                </tr>

                                <div class="modal fade" tabindex="-1" id="{{ user.id }}">
                                    <div class="modal-dialog">
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <h4 class="modal-title">Delete User</h4>
                                          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: white">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                        </div>
                                        <div class="modal-body">
                                          <p>Are you sure you want to delete {{ user.username }} user ?</p>
                                        </div>
                                        <div class="modal-footer">
                                          <button type="button" class="btn btn-outline-dark btn-sm" data-dismiss="modal"> <i class="fa fa-times pr-2"></i> Close</button>

                                            <a href="/deleteUser/{{ user.id }}/" class="btn btn-outline-danger btn-sm">
                                                <i class="fa fa-trash pr-2"></i> Delete
                                            </a>

                                        </div>
                                      </div>

                                    </div>

                                </div>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
				</div>
			</div>
		</div>
	</div>
</body>

{% endblock %}